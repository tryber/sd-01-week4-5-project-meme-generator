<!DOCTYPE html>
<html>
<head>
        <title>ULTIMATE MEME GENERATOR BR</title>
        <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
   
        <div class="center"> 
            <div class="menu-div"><h1>Seja bem-vindos e bem-vindas ao mais glorioso Meme Generator
                da face da Terra! Criado aqui na Trybe!</h1>
                <form>Insira o texto SUPERIOR para seu meme: 
                    <input class="frase-meme" type="text" name="meme"> <br> <br>
                    Isira o texto INFERIOR para seu meme:
                    <input class="frase-meme" type="text" name="meme"> <br> <br>
                    Selecione a imagem desejada: <input class="imagem-upload" type="file" name="imagem" accept="image/png, image/jpeg">
                </form>                
            </div>

            <div class="btn-container">
                <div class="btn-aumenta-fonte"><span class="text-button">+</span></div>
                <br>
                FONT SIZE<br><br>
                <div class="btn-diminui-fonte"><span class="text-button">-</span></div> 
            </div>

            <div class="btn-container borders">
                BORDERS<br><br>
            <div class="btn-borders" id="dotted">DOTTED</div>
            <div class="btn-borders" id="dashed">DASHED</div>
            <div class="btn-borders" id="solid">SOLID</div>
            <div class="btn-borders" id="double">DOUBLE</div><br>
            <div>COLORS:</div><br>
            <div class="border-colors black" id="black"></div>
            <div class="border-colors blue" id="blue"></div>
            <div class="border-colors green" id="green"></div>
            <div class="border-colors gold" id="gold"></div>
            <div class="border-colors red" id="red"></div>

        </div>


            
   
            
            <div class="imagem-container">
                <div class="text-meme"><span class="text up"></span>
                <p class="text down"></p></div>
                <img class="imagem-meme" src="" />
            </div>
        </div>
    

    <script>
    //função de criar URL a partir do upload
    const img = document.querySelector(".imagem-meme");
    const input = document.querySelector(".imagem-upload");
    input.addEventListener("change", function() {   
        img.src = URL.createObjectURL(this.files[0]);
    });

    //função de inserir texto
    function inserirTexto(positionClass,index) {
        let texto = document.getElementsByClassName("frase-meme")[index];
            texto.addEventListener("keyup", function() {
        document.querySelector(positionClass).innerText=texto.value;
    })
    };

    //inserindo texto se referindo a classe e index do item input no documento.
    inserirTexto(".text.up",0);
    inserirTexto(".text.down",1)

    //Botão de aumentar e diminuir fonte.
    let btnSize = document.querySelectorAll(".text-button");
    for (let i = 0 ; i < btnSize.length ; i++) {
    btnSize[i].addEventListener("click", function() {
            if ( i== 0) {
                let changeSizeUp = document.querySelector(".text.up");
                let changeSizeDown = document.querySelector(".text.down");
                    if (changeSizeUp.style.fontSize=="") {
                        changeSizeUp.style.fontSize="53px";
                        changeSizeDown.style.fontSize="53px";
                    } else {
                        changeSizeUp.style.fontSize=parseInt(changeSizeUp.style.fontSize) + 3 +"px";
                        changeSizeDown.style.fontSize=parseInt(changeSizeDown.style.fontSize) + 3 +"px";
                    }
            }
                
             else if ( i == 1) {
                let changeSizeUp = document.querySelector(".text.up");
                let changeSizeDown = document.querySelector(".text.down");
                    if (changeSizeUp.style.fontSize=="") {
                        changeSizeUp.style.fontSize="47px";
                        changeSizeDown.style.fontSize="47px";
                    } else {
                        changeSizeUp.style.fontSize=parseInt(changeSizeUp.style.fontSize) - 3 +"px";
                        changeSizeDown.style.fontSize=parseInt(changeSizeDown.style.fontSize) - 3 +"px";
                    }
             }
         });
    }

    //Menu de mudança de bordas por tipo

    let btnBordas = document.querySelectorAll(".btn-borders");
    for (let tipo of btnBordas) {
        console.log(tipo.id)
        tipo.addEventListener ("click", function(){
        let imgContainer = document.querySelector(".imagem-container");
        imgContainer.style.border=tipo.id;
        });
    }


    //mudar cor das bordas;

    let corBordas = document.querySelectorAll(".border-colors");
    for (let color of corBordas) {
        color.addEventListener("click", function () {
            let imgContainer = document.querySelector(".imagem-container");
            imgContainer.style.borderColor = getComputedStyle(color).backgroundColor;
        })
    }

    </script>

</body>
</html>